<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Eco Tag</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-leaf"></i>
                    <span>Eco Tag</span>
                </div>
            </div>
            
            <nav class="sidebar-menu">
                <a href="#dashboard" class="menu-item active" data-section="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#scanner" class="menu-item" data-section="scanner">
                    <i class="fas fa-camera"></i>
                    <span>Escáner</span>
                </a>
                <a href="#products" class="menu-item" data-section="products">
                    <i class="fas fa-cube"></i>
                    <span>Productos</span>
                </a>
                <a href="#reports" class="menu-item" data-section="reports">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reportes</span>
                </a>
                <a href="#settings" class="menu-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <h1 class="page-title" id="pageTitle">Dashboard</h1>
                <div class="user-menu">
                    <div class="user-info">
                        <div class="user-name" id="userName">Usuario</div>
                        <div class="user-role" id="userRole">Administrador</div>
                    </div>
                    <div class="user-avatar" id="userAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <button class="btn btn-outline" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        Cerrar Sesión
                    </button>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active-section">
                <div class="action-bar">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="Buscar productos...">
                    </div>
                    <div class="filter-options">
                        <span>Filtrar por:</span>
                        <select id="dateFilter">
                            <option value="all">Todos</option>
                            <option value="today">Hoy</option>
                            <option value="week">Esta semana</option>
                            <option value="month">Este mes</option>
                        </select>
                        <select id="scoreFilter">
                            <option value="all">Todos los puntajes</option>
                            <option value="high">Alto (70-100)</option>
                            <option value="medium">Medio (50-69)</option>
                            <option value="low">Bajo (0-49)</option>
                        </select>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <div class="quick-action" onclick="openModal('scanModal')">
                        <i class="fas fa-camera"></i>
                        <h3>Nuevo Escaneo</h3>
                        <p>Escanea un producto</p>
                    </div>
                    <div class="quick-action" onclick="generateReport()">
                        <i class="fas fa-file-pdf"></i>
                        <h3>Generar Reporte</h3>
                        <p>Exportar datos</p>
                    </div>
                    <div class="quick-action" onclick="showSection('products')">
                        <i class="fas fa-cubes"></i>
                        <h3>Ver Productos</h3>
                        <p>Gestionar inventario</p>
                    </div>
                    <div class="quick-action" onclick="showSection('reports')">
                        <i class="fas fa-chart-bar"></i>
                        <h3>Estadísticas</h3>
                        <p>Ver análisis</p>
                    </div>
                </div>

                <!-- Recent Scans Table -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Escaneos Recientes</h2>
                        <div class="view-options">
                            <span>Mostrar:</span>
                            <select id="rowsPerPage">
                                <option value="10">10 filas</option>
                                <option value="25">25 filas</option>
                                <option value="50">50 filas</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-responsive">
                        <table class="data-table" id="scansTable">
                            <thead>
                                <tr>
                                    <th>Producto</th>
                                    <th>Marca</th>
                                    <th>Puntuación</th>
                                    <th>Fecha</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="scansTableBody">
                                <!-- Se llena dinámicamente -->
                            </tbody>
                        </table>
                    </div>

                    <div class="table-footer">
                        <div class="table-info" id="tableInfo">
                            Mostrando 0 de 0 registros
                        </div>
                        <div class="pagination">
                            <button class="pagination-btn" id="prevPage" disabled>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <span class="pagination-info" id="pageInfo">Página 1 de 1</span>
                            <button class="pagination-btn" id="nextPage" disabled>
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Other Sections (se muestran dinámicamente) -->
            <section id="scanner" class="content-section" style="display: none;">
                <!-- Contenido del escáner -->
            </section>

            <section id="products" class="content-section" style="display: none;">
                <!-- Contenido de productos -->
            </section>

            <section id="reports" class="content-section" style="display: none;">
                <!-- Contenido de reportes -->
            </section>

            <section id="settings" class="content-section" style="display: none;">
                <!-- Contenido de configuración -->
            </section>
        </main>
    </div>

    <!-- Modal para nuevo escaneo -->
    <div class="modal" id="scanModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('scanModal')">&times;</span>
            <h2>Nuevo Escaneo</h2>
            <div class="scan-interface">
                <!-- Aquí iría la interfaz del escáner -->
                <div style="text-align: center; padding: 40px;">
                    <i class="fas fa-camera" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px;"></i>
                    <h3>Funcionalidad de Escáner</h3>
                    <p>Esta funcionalidad se integrará con el sistema de cámara.</p>
                    <button class="btn btn-green" onclick="closeModal('scanModal')">
                        <i class="fas fa-times"></i>
                        Cerrar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="dashboard.js"></script>
</body>
</html>